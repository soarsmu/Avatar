import json
import random

file_name = '../data/chrome_debian_with_slices_ggnn_similar.json'
data = json.load(open(file_name))

random.shuffle(data)

label_train = data[:int(len(data)*0.4)]
unlabel_train = data[int(len(data)*0.4):int(len(data)*0.8)]
valid = data[int(len(data)*0.8):int(len(data)*0.9)]
test = data[int(len(data)*0.9):]

with open("./label_train.jsonl", "w") as wf:
    for d in label_train:
        wf.write(json.dumps(d) + "\n")

with open("./unlabel_train.jsonl", "w") as wf:
    for d in unlabel_train:
        wf.write(json.dumps(d) + "\n")

with open("./valid.jsonl", "w") as wf:
    for d in valid:
        wf.write(json.dumps(d) + "\n")

with open("./test.jsonl", "w") as wf:
    for d in test:
        wf.write(json.dumps(d) + "\n") 